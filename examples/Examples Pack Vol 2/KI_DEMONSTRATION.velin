// ================================================
// ğŸ¤– KI-Demonstration: VelinScript in Aktion
// ================================================
// Zeigt wie kÃ¼nstliche Intelligenz mit VelinScript
// arbeitet - basierend auf den Examples Pack Vol 2

// ====== BEISPIEL 1: EMAIL-VALIDIERUNG ======
// KI kann E-Mail-Adressen smart validieren

fn demoEmailValidation(): void {
    // Test-Emails
    let testEmails = [
        "user@example.com",      // âœ… GÃ¼ltig
        "invalid.email",         // âŒ UngÃ¼ltig
        "test@gmial.com",        // âš ï¸ Tippfehler erkannt
    ];
    
    print("ğŸ” EMAIL-VALIDIERUNG DEMO\n");
    
    for (let email in testEmails) {
        let isValid = validateEmailFormat(email);
        let status = if (isValid) { "âœ… GÃœLTIG" } else { "âŒ UNGÃœLTIG" };
        
        print("E-Mail: {email}");
        print("Status: {status}\n");
    }
}

fn validateEmailFormat(email: string): boolean {
    return email.matches("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$");
}

// ====== BEISPIEL 2: PASSWORT-STÃ„RKE-ANALYSE ======
// KI bewertet PasswÃ¶rter auf Sicherheit

fn demoPasswordStrength(): void {
    let testPasswords = [
        "123456",                  // Schwach
        "MyPass123",               // Mittel
        "K9$mX2n#Yz4Lq!",          // Stark
    ];
    
    print("ğŸ” PASSWORT-STÃ„RKE DEMO\n");
    
    for (let pwd in testPasswords) {
        let score = calculatePasswordScore(pwd);
        let level = getStrengthLevel(score);
        
        print("Passwort: {'*' + pwd.substring(1)}");
        print("StÃ¤rke: {level} (Score: {score}%)\n");
    }
}

fn calculatePasswordScore(password: string): number {
    let score = 0;
    
    // LÃ¤ngen-Score
    if (password.length() >= 12) {
        score = score + 30;
    } else if (password.length() >= 8) {
        score = score + 20;
    } else {
        score = score + 10;
    }
    
    // GroÃŸbuchstaben
    if (password.matches(".*[A-Z].*")) { score = score + 15; }
    
    // Kleinbuchstaben
    if (password.matches(".*[a-z].*")) { score = score + 15; }
    
    // Zahlen
    if (password.matches(".*[0-9].*")) { score = score + 15; }
    
    // Symbole
    if (password.matches(".*[^a-zA-Z0-9].*")) { score = score + 25; }
    
    return min(score, 100);
}

fn getStrengthLevel(score: number): string {
    if (score >= 85) { return "ğŸŒŸ SEHR STARK"; }
    else if (score >= 70) { return "ğŸ’ª STARK"; }
    else if (score >= 50) { return "ğŸ˜ MITTEL"; }
    else if (score >= 30) { return "âš ï¸ SCHWACH"; }
    else { return "ğŸš¨ SEHR SCHWACH"; }
}

// ====== BEISPIEL 3: TEXT-ANALYSE ======
// KI analysiert und verarbeitet Texte

fn demoTextAnalysis(): void {
    let text = "VelinScript ist eine moderne Programmiersprache fÃ¼r KI und APIs!";
    
    print("ğŸ“ TEXT-ANALYSE DEMO\n");
    print("Original: {text}\n");
    
    // Statistiken
    let words = text.split(" ");
    let charCount = text.length();
    let wordCount = words.length();
    let avgWordLength = charCount / wordCount;
    
    print("ğŸ“Š Statistiken:");
    print("  - Zeichen: {charCount}");
    print("  - WÃ¶rter: {wordCount}");
    print("  - Durchschn. WortlÃ¤nge: {avgWordLength.round(1)}\n");
    
    // Sentiment (vereinfacht)
    let sentiment = analyzeSentiment(text);
    print("ğŸ˜Š Sentiment: {sentiment}\n");
}

fn analyzeSentiment(text: string): string {
    let lower = text.toLowerCase();
    
    let positive = 0;
    if (lower.contains("modern")) { positive = positive + 1; }
    if (lower.contains("super")) { positive = positive + 1; }
    if (lower.contains("groÃŸartig")) { positive = positive + 1; }
    if (lower.contains("toll")) { positive = positive + 1; }
    
    if (positive > 1) {
        return "ğŸ˜„ Sehr positiv";
    } else if (positive > 0) {
        return "ğŸ˜Š Positiv";
    } else {
        return "ğŸ˜ Neutral";
    }
}

// ====== BEISPIEL 4: DATEN-PROCESSING ======
// KI verarbeitet und kategorisiert Daten

fn demoDataProcessing(): void {
    print("ğŸ”„ DATEN-PROCESSING DEMO\n");
    
    // Kategorisiere verschiedene Eingaben
    let items = ["hello", "test123", "password!", "user@domain.com"];
    
    for (let item in items) {
        let category = categorizeInput(item);
        print("'{item}' â†’ {category}");
    }
    
    print("\n");
}

fn categorizeInput(input: string): string {
    if (input.matches(".*@.*\\..*")) {
        return "ğŸ“§ E-Mail";
    } else if (input.matches(".*[0-9].*")) {
        return "ğŸ”¢ Mit Zahlen";
    } else if (input.matches(".*[^a-zA-Z0-9].*")) {
        return "ğŸ” Mit Symbolen";
    } else {
        return "ğŸ“ Text";
    }
}

// ====== BEISPIEL 5: INTELLIGENTE EMPFEHLUNGEN ======
// KI gibt VerbesserungsvorschlÃ¤ge

fn demoSmartSuggestions(): void {
    let userInput = "passwort123";
    
    print("ğŸ’¡ INTELLIGENTE EMPFEHLUNGEN DEMO\n");
    print("User-Input: '{userInput}'\n");
    
    let suggestions = generateSuggestions(userInput);
    
    print("ğŸ“‹ Empfehlungen:\n");
    for (let suggestion in suggestions) {
        print("  âœ¨ {suggestion}");
    }
    
    print("\n");
}

fn generateSuggestions(input: string): List<string> {
    let suggestions: List<string> = [];
    
    if (input.length() < 8) {
        suggestions.push("Mindestens 8 Zeichen verwenden");
    }
    
    if (!input.matches(".*[A-Z].*")) {
        suggestions.push("GroÃŸbuchstaben hinzufÃ¼gen");
    }
    
    if (!input.matches(".*[0-9].*")) {
        suggestions.push("Zahlen hinzufÃ¼gen");
    }
    
    if (!input.matches(".*[^a-zA-Z0-9].*")) {
        suggestions.push("Sonderzeichen (!@#$) hinzufÃ¼gen");
    }
    
    if (input.contains("password")) {
        suggestions.push("Das Wort 'password' vermeiden - zu hÃ¤ufig!");
    }
    
    return suggestions;
}

// ====== HAUPTPROGRAMM ======
fn main(): void {
    print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n");
    print("â•‘ ğŸ¤– KI-DEMONSTRATION: VelinScript Edition â•‘\n");
    print("â•‘    KÃ¼nstliche Intelligenz in Aktion     â•‘\n");
    print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n");
    
    // FÃ¼hre alle Demos aus
    demoEmailValidation();
    print("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n");
    
    demoPasswordStrength();
    print("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n");
    
    demoTextAnalysis();
    print("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n");
    
    demoDataProcessing();
    print("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n");
    
    demoSmartSuggestions();
    
    print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\n");
    print("â•‘ âœ… Alle Demos abgeschlossen!            â•‘\n");
    print("â•‘                                          â•‘\n");
    print("â•‘ ğŸ¯ VelinScript Features gezeigt:        â•‘\n");
    print("â•‘   âœ“ String-Verarbeitung                â•‘\n");
    print("â•‘   âœ“ Regular Expressions                â•‘\n");
    print("â•‘   âœ“ Datenstrukturen & Logik            â•‘\n");
    print("â•‘   âœ“ Listen & Iteration                 â•‘\n");
    print("â•‘   âœ“ Intelligente Algorithmen           â•‘\n");
    print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n");
}

// Hilfsfunktionen
fn round(value: number, decimals: number): number {
    let factor = pow(10, decimals);
    return Math.round(value * factor) / factor;
}

fn pow(base: number, exponent: number): number {
    return Math.pow(base, exponent);
}

fn min(a: number, b: number): number {
    return if (a < b) { a } else { b };
}

fn print(text: string): void {
    // VelinScript print/echo
    echo(text);
}
